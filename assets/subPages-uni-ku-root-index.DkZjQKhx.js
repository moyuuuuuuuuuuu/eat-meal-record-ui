import{G as t,q as e,s as a,y as o,B as l,aP as s,aQ as r,aR as i,aS as n,n as u,aT as d,t as p,f as c,r as f,H as g,z as h,K as y,M as S,aU as m,a0 as k,O as T,ae as b,N as _}from"./index-Dq5cXexY.js";import{_ as x}from"./DemoBlock.vue_vue_type_script_setup_true_lang.BzsINvCd.js";import{a as v,_ as B}from"./wd-cell.Ck6AMW23.js";const C=t({name:"PageMeta",setup(t,{emit:e}){u((()=>{d((t=>{e("resize",t)}))}))},props:{backgroundTextStyle:{type:String,default:"dark",validator:t=>-1!==["dark","light"].indexOf(t)},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){const t=n(),e=t[t.length-1];this.$pageVm=e.$vm||e,this.$watch("backgroundTextStyle",(()=>{this.setBackgroundTextStyle()})),this.$watch((()=>[this.rootFontSize,this.pageStyle]),(()=>{this.setPageMeta(e.$page.id)})),this.$watch((()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom]),(()=>{this.setBackgroundColor()})),this.$watch((()=>[this.scrollTop,this.scrollDuration]),(()=>{this.pageScrollTo()}))},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},activated(){this.setPageMeta()},methods:{setPullDownRefresh(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta(t){this.$nextTick((()=>{i({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize,pageId:t})}))},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let t=String(this.scrollTop);-1!==t.indexOf("rpx")&&(t=s(t.replace("rpx",""))),t=parseFloat(t),isNaN(t)||r({scrollTop:t,duration:this.scrollDuration,success:()=>{}})}}},[["render",function(t,s,r,i,n,u){const d=p;return a(),e(d,{style:{display:"none"}},{default:o((()=>[l(t.$slots,"default")])),_:3})}]]),$=c({__name:"index",setup(t){const e=f(!1);return(t,l)=>{const s=m(T("page-meta"),C),r=B,i=v,n=x,u=b,d=p,c=k("layout-default-uni"),f=k("global-ku-root");return a(),g(S,null,[h(s,{"page-style":`overflow:${y(e)?"hidden":"visible"};`},null,8,["page-style"]),h(f,null,{default:o((()=>[h(c,null,{default:o((()=>[h(d,{class:"min-h-200vh"},{default:o((()=>[h(n,{title:"锁定滚动",transparent:""},{default:o((()=>[h(i,{border:""},{default:o((()=>[h(r,{title:"锁定滚动","is-link":"",onClick:l[0]||(l[0]=t=>e.value=!y(e))})])),_:1})])),_:1}),h(u,{modelValue:y(e),"onUpdate:modelValue":l[1]||(l[1]=t=>_(e)?e.value=t:null),"lock-scroll":"",position:"bottom",closable:"","safe-area-inset-bottom":!0,"custom-style":"height: 200px;",onClose:l[2]||(l[2]=t=>e.value=!1)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})],64)}}});export{$ as default};
