import{r as e,c as a,d as l,m as u,e as t,f as s,V as o,h as n,k as r,S as d,l as i,w as v,n as c,F as _,q as h,s as f,t as b,v as m,x as w,y as p,A as y,z as M,P as x,Q as g,H as C,M as T,al as k,ao as V,G as $}from"./index-Dq5cXexY.js";const X=$(s({name:"wd-slider",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...t,customMinClass:l(""),customMaxClass:l(""),hideMinMax:u(!1),hideLabel:u(!1),disabled:u(!1),inactiveColor:l("#e5e5e5"),activeColor:l(""),max:a(100),min:a(0),step:a(1),modelValue:{type:[Number,Array],default:0}},emits:["dragstart","dragmove","dragend","update:modelValue"],setup(a,{expose:l,emit:u}){const t=a,s=u,$=e(`sliderBarWrapperId${o()}`),X=function(){const a=e(""),l=e(0),u=e(0),t=e(0),s=e(0),o=e(0),n=e(0);return{touchStart:function(e){const r=e.touches[0];a.value="",l.value=0,u.value=0,t.value=0,s.value=0,o.value=r.clientX,n.value=r.clientY},touchMove:function(e){const r=e.touches[0];l.value=r.clientX-o.value,u.value=r.clientY-n.value,t.value=Math.abs(l.value),s.value=Math.abs(u.value),a.value=t.value>s.value?"horizontal":t.value<s.value?"vertical":""},direction:a,deltaX:l,deltaY:u,offsetX:t,offsetY:s,startX:o,startY:n}}(),L=e(0),{proxy:S}=n(),Y=e(0),A=e(0),F=r((()=>t.min)),I=r((()=>t.max)),N=r((()=>t.step<=0?(console.warn("[wot ui] warning(wd-slider): step must be greater than 0"),1):t.step)),z=e(0),G=e(O()),H=r((()=>d(G.value))),j=r((()=>I.value-F.value)),q=r((()=>H.value?G.value[0]:G.value)),B=r((()=>H.value?G.value[1]:0)),P=r((()=>`wd-slider ${t.hideLabel?"":"wd-slider__has-label"} ${t.disabled?"wd-slider--disabled":""} ${t.customClass}`)),Q=r((()=>i({visibility:t.disabled?"hidden":"visible"}))),W=r((()=>{const e={};return t.inactiveColor&&(e.background=t.inactiveColor),i(e)})),D=r((()=>{const e={};if(0===j.value)return i(e);if(H.value){const[a,l]=R(G.value);e.width=100*(l-a)/j.value+"%",e.left=100*(a-F.value)/j.value+"%"}else e.width=100*(G.value-F.value)/j.value+"%",e.left="0";return t.activeColor&&(e.background=t.activeColor),i(e)}));function E(){return t.disabled}function J(e,a,l){return Math.min(Math.max(e,a),l)}function K(){_(`#${$.value}`,!1,S).then((e=>{Y.value=Number(e.width),A.value=Number(e.left)}))}function O(){return d(t.modelValue)?R(t.modelValue):J(t.modelValue,F.value,I.value)}function R(e){if(!Array.isArray(e)||e.length<2)return console.warn("[wot ui] warning(wd-slider): range value should be an array with at least 2 elements"),[F.value,I.value];const a=J(e[0],F.value,I.value),l=J(e[1],F.value,I.value);return a>l?[l,a]:[a,l]}function U(e){e=J(e,F.value,I.value);const a=Math.round((e-F.value)/N.value);return parseFloat((F.value+a*N.value).toFixed(10))}function Z(e,a){E()||(L.value=a,X.touchStart(e),z.value=k(G.value),s("dragstart",{value:G.value}))}function ee(e){if(E())return;X.touchMove(e);const a=X.deltaX.value/Y.value*j.value;let l=k(z.value);d(l)?l[L.value]+=a:l+=a,function(e){let a=k(e);a=d(e)?R(e).map((e=>U(e))):U(e),V(a,G.value)||(G.value=a)}(l),s("dragmove",{value:G.value})}function ae(){E()||s("dragend",{value:G.value})}return v((()=>t.modelValue),(e=>{V(e,G.value)||(G.value=O())}),{deep:!0}),v(G,(e=>{s("update:modelValue",e)})),c((()=>{K()})),l({initSlider:K}),(e,a)=>{const l=b;return f(),h(l,{class:w(P.value),style:m(e.customStyle)},{default:p((()=>[e.hideMinMax?y("",!0):(f(),h(l,{key:0,class:w(`wd-slider__label-min ${e.customMinClass}`)},{default:p((()=>[x(g(F.value),1)])),_:1},8,["class"])),M(l,{class:"wd-slider__bar-wrapper",style:m(W.value),id:$.value},{default:p((()=>[M(l,{class:"wd-slider__bar",style:m(D.value)},{default:p((()=>[H.value?(f(),C(T,{key:0},[M(l,{class:"wd-slider__button-wrapper wd-slider__button-wrapper--left",style:m(Q.value),onTouchstart:a[0]||(a[0]=e=>Z(e,0)),onTouchmove:ee,onTouchend:ae,onTouchcancel:ae},{default:p((()=>[e.hideLabel?y("",!0):(f(),h(l,{key:0,class:"wd-slider__label"},{default:p((()=>[x(g(q.value),1)])),_:1})),M(l,{class:"wd-slider__button"})])),_:1},8,["style"]),M(l,{class:"wd-slider__button-wrapper wd-slider__button-wrapper--right",style:m(Q.value),onTouchstart:a[1]||(a[1]=e=>Z(e,1)),onTouchmove:ee,onTouchend:ae,onTouchcancel:ae},{default:p((()=>[e.hideLabel?y("",!0):(f(),h(l,{key:0,class:"wd-slider__label"},{default:p((()=>[x(g(B.value),1)])),_:1})),M(l,{class:"wd-slider__button"})])),_:1},8,["style"])],64)):(f(),h(l,{key:1,class:"wd-slider__button-wrapper",style:m(Q.value),onTouchstart:a[2]||(a[2]=e=>Z(e,0)),onTouchmove:ee,onTouchend:ae,onTouchcancel:ae},{default:p((()=>[e.hideLabel?y("",!0):(f(),h(l,{key:0,class:"wd-slider__label"},{default:p((()=>[x(g(q.value),1)])),_:1})),M(l,{class:"wd-slider__button"})])),_:1},8,["style"]))])),_:1},8,["style"])])),_:1},8,["style","id"]),e.hideMinMax?y("",!0):(f(),h(l,{key:1,class:w(`wd-slider__label-max ${e.customMaxClass}`)},{default:p((()=>[x(g(I.value),1)])),_:1},8,["class"]))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-8f8de030"]]);export{X as _};
