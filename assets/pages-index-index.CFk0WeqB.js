import{r as e,o as t,i as a,a as l,b as s,m as o,c as r,d as n,e as c,f as i,g as u,h as d,w as p,j as f,k as v,l as m,n as x,p as h,q as g,s as _,t as b,u as w,v as y,x as k,y as z,z as M,A as T,B as C,_ as I,C as F,D as $,E as j,F as L,G as S,I as O,H as V,J as E,K as P,L as H,M as B,N,O as W,P as D,Q as A,R as G,S as Q,T as R,U,V as Y,W as X,X as Z,Y as q,Z as K,$ as J,a0 as ee,a1 as te}from"./index-Dq5cXexY.js";import{_ as ae}from"./IconPlus.vue_vue_type_script_setup_true_lang.CwcYqQ2y.js";import{_ as le,a as se}from"./IconMoon.vue_vue_type_script_setup_true_lang.CiSID7nl.js";import{_ as oe,a as re}from"./IconFlame.vue_vue_type_script_setup_true_lang.gj43eq3D.js";let ne=[];const ce=S(i({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...c,active:o(!1),type:n("primary"),position:n("right-bottom"),direction:n("top"),disabled:o(!1),inactiveIcon:n("add"),activeIcon:n("close"),zIndex:r(99),draggable:o(!1),gap:{type:Object,default:()=>({})},expandable:o(!0)},emits:["update:active","click"],setup(o,{expose:r,emit:n}){const c=o,i=n,S=e(!1),O=e(!1),V=u("__QUEUE_KEY__",null),{proxy:E}=d();p((()=>c.active),(e=>{O.value=e}),{immediate:!0,deep:!0}),p((()=>O.value),(e=>{var t;e&&(V&&V.closeOther?V.closeOther(E):(t=E,ne.forEach((e=>{e.$.uid!==t.$.uid&&e.$.exposed.close()}))))}));const P=e(c.direction);p((()=>c.direction),(e=>P.value=e)),p((()=>c.position),(()=>A()));const H=e(0),B=e(0),N=f({width:0,height:0}),W=f({width:56,height:56}),D=f({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function A(){const e=c.position,{minLeft:t,minTop:a,maxLeft:l,maxTop:s}=D,o=(s+a)/2,r=(l+t)/2;switch(e){case"left-top":H.value=a,B.value=t;break;case"right-top":H.value=a,B.value=l;break;case"left-bottom":H.value=s,B.value=t;break;case"right-bottom":H.value=s,B.value=l;break;case"left-center":H.value=o,B.value=t;break;case"right-center":H.value=o,B.value=l;break;case"top-center":H.value=a,B.value=r;break;case"bottom-center":H.value=s,B.value=r}}const G=f({x:0,y:0}),Q=e(!1);function R(e){if(!1===c.draggable)return;const t=e.touches[0];G.x=t.clientX-B.value,G.y=t.clientY-H.value,Q.value=!1}function U(e){if(!1===c.draggable)return;const t=e.touches[0],{minLeft:a,minTop:l,maxLeft:s,maxTop:o}=D;let r=t.clientX-G.x,n=t.clientY-G.y;r<a?r=a:r>s&&(r=s),n<l?n=l:n>o&&(n=o),H.value=n,B.value=r}function Y(){if(!1===c.draggable)return;const e=N.width/2,t=B.value+W.width/2;Q.value=!0,t<e?(B.value=D.minLeft,P.value="right"):(B.value=D.maxLeft,P.value="left")}const X=v((()=>{const e={top:H.value+"px",left:B.value+"px",transition:Q.value?"all ease 0.3s":"none"};return s(c.zIndex)&&(e["z-index"]=c.zIndex),`${m(e)}${c.customStyle}`}));function Z(){c.disabled||(c.expandable?(O.value=!O.value,i("update:active",O.value)):i("click"))}return x((()=>{var o;V&&V.pushToQueue?V.pushToQueue(E):(o=E,ne.push(o));const{start:r}=function(o){const r=e(null),n=()=>{a&&l(r.value)?cancelAnimationFrame(r.value):s(r.value)&&clearTimeout(r.value)};return t((()=>{n()})),{start:()=>{const e=e=>{o(e)};r.value=a?requestAnimationFrame(e):setTimeout((()=>e(Date.now())),1e3/30)},cancel:n}}((async()=>{await async function(){const e=j();try{const e=await L("#trigger",!1,E);W.width=e.width||56,W.height=e.height||56}catch(r){console.log(r)}const{top:t=16,left:l=16,right:s=16,bottom:o=16}=c.gap;N.width=e.windowWidth,N.height=a?e.windowTop+e.windowHeight:e.windowHeight,D.minTop=a?e.windowTop+t:t,D.minLeft=l,D.maxLeft=N.width-W.width-s,D.maxTop=N.height-W.height-o}(),A(),S.value=!0}));r()})),h((()=>{var e;V&&V.removeFromQueue?V.removeFromQueue(E):(e=E,ne=ne.filter((t=>t.$.uid!==e.$.uid)))})),r({open:function(){O.value=!0,i("update:active",!0)},close:function(){O.value=!1,i("update:active",!1)}}),(e,t)=>{const a=b;return _(),g(a,{onTouchmove:w(U,["stop","prevent"]),onTouchstart:R,onTouchend:Y,class:k(`wd-fab ${e.customClass}`),style:y(X.value),onClick:t[1]||(t[1]=w((()=>{}),["stop"]))},{default:z((()=>[M(a,{onClick:t[0]||(t[0]=w((()=>{}),["stop"])),style:y({visibility:S.value?"visible":"hidden"}),id:"trigger"},{default:z((()=>[e.$slots.trigger?C(e.$slots,"trigger",{key:0},void 0,!0):(_(),g(I,{key:1,onClick:Z,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:z((()=>[M(F,{"custom-class":"wd-fab__icon",name:O.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),e.expandable?(_(),g($,{key:0,"enter-class":`wd-fab__transition-enter--${P.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${P.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${P.value}`,show:O.value,duration:300},{default:z((()=>[C(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):T("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-633fc901"]]),ie=i({__name:"IconSunrise",props:{size:{},color:{}},setup:e=>(e,t)=>(_(),g(O,{size:e.size,color:e.color},{default:z((()=>[(_(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[E("path",{d:"M12 2v8"}),E("path",{d:"m4.93 10.93 1.41 1.41"}),E("path",{d:"M2 18h2"}),E("path",{d:"M20 18h2"}),E("path",{d:"m19.07 10.93-1.41 1.41"}),E("path",{d:"M22 22H2"}),E("path",{d:"m8 22 4-4 4 4"}),E("path",{d:"M16 18a4 4 0 0 0-8 0"})]))])),_:1},8,["size","color"]))}),ue=i({__name:"IconCoffee",props:{size:{},color:{}},setup:e=>(e,t)=>(_(),g(O,{size:e.size,color:e.color},{default:z((()=>[(_(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[E("path",{d:"M17 8h1a4 4 0 1 1 0 8h-1"}),E("path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"}),E("line",{x1:"6",y1:"2",x2:"6",y2:"4"}),E("line",{x1:"10",y1:"2",x2:"10",y2:"4"}),E("line",{x1:"14",y1:"2",x2:"14",y2:"4"})]))])),_:1},8,["size","color"]))}),de=S(i({__name:"FloatingActionButton",emits:["select"],setup(t,{emit:a}){const l=e(!1),s=[{type:"早餐",icon:ie,color:"#f97316"},{type:"午餐",icon:le,color:"#eab308"},{type:"晚餐",icon:se,color:"#6366f1"},{type:"加餐",icon:ue,color:"#92400e"}],o=a;return(e,t)=>{const a=b,r=ae,n=ce;return _(),g(a,{class:"fab-container"},{default:z((()=>[M(n,{active:P(l),"onUpdate:active":t[1]||(t[1]=e=>N(l)?l.value=e:null),type:"primary",position:"right-bottom",gap:{bottom:100,right:20}},{default:z((()=>[(_(),V(B,null,H(s,((e,t)=>M(a,{key:t,class:"fab-item",style:y({backgroundColor:e.color}),onClick:t=>{return a=e.type,o("select",a),void(l.value=!1);var a}},{default:z((()=>[(_(),g(W(e.icon),{size:"20",color:"white"}))])),_:2},1032,["style","onClick"]))),64))])),trigger:z((()=>[M(a,{class:"fab-trigger",onClick:t[0]||(t[0]=e=>l.value=!P(l))},{default:z((()=>[M(r,{size:P(l)?28:24,color:"white",style:y({transform:P(l)?"rotate(135deg)":"rotate(0)",transition:"all 0.3s"})},null,8,["size","style"])])),_:1})])),_:1},8,["active"])])),_:1})}}}),[["__scopeId","data-v-f9518d81"]]),pe=i({__name:"IconTrash2",props:{size:{},color:{}},setup:e=>(e,t)=>(_(),g(O,{size:e.size,color:e.color},{default:z((()=>[(_(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[E("polyline",{points:"3 6 5 6 21 6"}),E("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]))])),_:1},8,["size","color"]))}),fe=i({__name:"MealRecord",props:{mealType:{},foods:{}},emits:["delete-food"],setup(e){const t=e,a=v((()=>t.foods.reduce(((e,t)=>e+t.calories),0))),l=v((()=>t.foods.reduce(((e,t)=>({protein:e.protein+t.protein,fat:e.fat+t.fat,carbs:e.carbs+t.carbs})),{protein:0,fat:0,carbs:0})));return(e,t)=>{const s=b,o=G,r=pe;return e.foods.length?(_(),g(s,{key:0,class:"bg-[var(--card-bg)] rounded-xl p-4 shadow-sm mb-4"},{default:z((()=>[M(s,{class:"flex items-center justify-between mb-3"},{default:z((()=>[M(s,{class:"text-sm font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(e.mealType),1)])),_:1}),M(s,{class:"text-xs text-[var(--text-sub)]"},{default:z((()=>[D("共 "+A(P(a))+" kcal",1)])),_:1})])),_:1}),M(s,{class:"space-y-3"},{default:z((()=>[(_(!0),V(B,null,H(e.foods,(t=>(_(),g(s,{key:t.id,class:"flex items-start justify-between border-l-4 border-emerald-500 pl-3 py-2 bg-[var(--page-bg)] rounded"},{default:z((()=>[M(s,{class:"flex-1"},{default:z((()=>[M(s,{class:"flex items-center gap-2 mb-1"},{default:z((()=>[M(o,{class:"text-sm font-medium text-[var(--text-main)]"},{default:z((()=>[D(A(t.name),1)])),_:2},1024),M(o,{class:"text-xs text-[var(--text-sub)]"},{default:z((()=>[D(A(t.amount)+A(t.unit),1)])),_:2},1024)])),_:2},1024),M(s,{class:"flex gap-3 text-[10px] text-[var(--text-sub)]"},{default:z((()=>[M(o,null,{default:z((()=>[D("热量: "+A(t.calories)+"kcal",1)])),_:2},1024),M(o,null,{default:z((()=>[D("蛋白: "+A(t.protein)+"g",1)])),_:2},1024),M(o,null,{default:z((()=>[D("脂肪: "+A(t.fat)+"g",1)])),_:2},1024),M(o,null,{default:z((()=>[D("碳水: "+A(t.carbs)+"g",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),M(s,{class:"p-1",onClick:a=>e.$emit("delete-food",t.id)},{default:z((()=>[M(r,{size:"12",color:"#9ca3af"})])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),e.foods.length>1?(_(),g(s,{key:0,class:"mt-3 pt-3 border-t border-[var(--border-color)] flex gap-4 text-[10px] text-[var(--text-sub)]"},{default:z((()=>[M(o,null,{default:z((()=>[D("蛋白质: "+A(P(l).protein.toFixed(1))+"g",1)])),_:1}),M(o,null,{default:z((()=>[D("脂肪: "+A(P(l).fat.toFixed(1))+"g",1)])),_:1}),M(o,null,{default:z((()=>[D("碳水: "+A(P(l).carbs.toFixed(1))+"g",1)])),_:1})])),_:1})):T("",!0)])),_:1})):T("",!0)}}}),ve=i({__name:"IconRefreshCw",props:{size:{},color:{}},setup:e=>(e,t)=>(_(),g(O,{size:e.size,color:e.color},{default:z((()=>[(_(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[E("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),E("path",{d:"M21 3v5h-5"}),E("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),E("path",{d:"M3 21v-5h5"})]))])),_:1},8,["size","color"]))}),me=i({__name:"IconSparkles",props:{size:{},color:{}},setup:e=>(e,t)=>(_(),g(O,{size:e.size,color:e.color},{default:z((()=>[(_(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[E("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),E("path",{d:"M5 3v4"}),E("path",{d:"M19 17v4"}),E("path",{d:"M3 5h4"}),E("path",{d:"M17 19h4"})]))])),_:1},8,["size","color"]))}),xe=S(i({__name:"FoodSuggestion",setup(t){const a=[{name:"香煎鸡胸肉配糙米",calories:450,tag:"高蛋白"},{name:"三文鱼沙拉",calories:380,tag:"健康脂肪"},{name:"全麦三明治",calories:320,tag:"均衡营养"},{name:"牛油果吐司",calories:350,tag:"优质碳水"},{name:"藜麦鸡肉碗",calories:420,tag:"超级食物"},{name:"蔬菜蛋饼",calories:280,tag:"低卡"},{name:"虾仁炒西兰花",calories:240,tag:"低脂"},{name:"番茄意面",calories:390,tag:"经典"}],l=e(a[Math.floor(Math.random()*a.length)]),s=e(!1);function o(){s.value||(s.value=!0,setTimeout((()=>{l.value=a[Math.floor(Math.random()*a.length)],s.value=!1}),500))}return(e,t)=>{const a=me,r=G,n=b,c=ve;return _(),g(n,{class:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl p-4 shadow-md text-white"},{default:z((()=>[M(n,{class:"flex items-center justify-between mb-3"},{default:z((()=>[M(n,{class:"flex items-center gap-2"},{default:z((()=>[M(a,{size:"18",color:"white"}),M(r,{class:"text-sm font-bold"},{default:z((()=>[D("今日吃什么")])),_:1})])),_:1}),M(n,{class:k(["p-1",{rotating:P(s)}]),onClick:o},{default:z((()=>[M(c,{size:"18",color:"white"})])),_:1},8,["class"])])),_:1}),P(l)?(_(),g(n,{key:0,class:"suggestion-content"},{default:z((()=>[M(n,{class:"text-lg font-medium mb-1"},{default:z((()=>[D(A(P(l).name),1)])),_:1}),M(n,{class:"flex items-center gap-2"},{default:z((()=>[M(r,{class:"text-xs opacity-80"},{default:z((()=>[D("约 "+A(P(l).calories)+" kcal",1)])),_:1}),M(r,{class:"text-[10px] bg-white/20 px-2 py-0.5 rounded-full"},{default:z((()=>[D(A(P(l).tag),1)])),_:1})])),_:1})])),_:1})):T("",!0)])),_:1})}}}),[["__scopeId","data-v-3e3a5a13"]]),he=S(i({name:"wd-progress",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...c,percentage:r(0),hideText:o(!1),color:{type:[String,Array]},duration:r(30),status:String},setup(t){const a=t,l=e(""),o=e(0),r=e(0);let n=null;const c=v((()=>m({background:l.value,width:`${o.value}%`,"transition-duration":r.value*a.duration*.001+"s"}))),i=v((()=>a.status?`is-${a.status}`:"")),u=v((()=>{let e="";switch(a.status){case"danger":e="close-outline";break;case"success":e="check-outline";break;case"warning":e="warn-bold"}return e}));async function d(){const{percentage:e,color:t}=a;if(!s(t)||Q(t)&&0===t.length)return r.value=Math.abs(e-o.value),await R(),void(o.value=e);if(o.value===e)return;const l=Q(t)?t:[t];!function(e){const t=(l=e,l.every((e=>"string"==typeof e))),a=f(e);var l;if(!t&&!a)throw Error("Color must be String or Object with color and percentage");if(a&&e.some((({percentage:e})=>Number.isNaN(e))))throw Error("All the percentage must can be formatted to Number")}(l);const n=function(e){const t=100/e.length;return f(e)?e.sort(((e,t)=>e.percentage-t.percentage)):e.map(((e,a)=>({color:e,percentage:(a+1)*t})))}(l);o.value>e?function(e,t){e.some((e=>{if(t<=e.percentage)return x(t,e.color),!0}))}(n,e):function(e,t){e.some(((a,l)=>{if(o.value<a.percentage&&a.percentage<=t)return x(a.percentage,a.color),!0;l===e.length-1&&x(t,a.color)}))}(n,e)}function f(e){return e.every((e=>U(e)&&Object.prototype.hasOwnProperty.call(e,"color")&&Object.prototype.hasOwnProperty.call(e,"percentage")))}function x(e,t){if(n)return;const{duration:s}=a;r.value=Math.abs(e-o.value),setTimeout((()=>{o.value=e,l.value=t,n=setTimeout((()=>{n&&clearTimeout(n),n=null,d()}),r.value*s)}),50)}return p((()=>[a.percentage,a.color,a.duration]),(()=>{var e;e=a.percentage,(Number.isNaN(e)||e<0||e>100)&&console.error("The value of percentage must be between 0 and 100"),d()}),{immediate:!0}),(e,t)=>{const a=b;return _(),g(a,{class:k(`wd-progress ${e.customClass}`),style:y(e.customStyle)},{default:z((()=>[M(a,{class:"wd-progress__outer"},{default:z((()=>[M(a,{class:k(`wd-progress__inner ${i.value}`),style:y(c.value)},null,8,["class","style"])])),_:1}),e.hideText?e.status?(_(),g(F,{key:1,"custom-class":`wd-progress__label wd-progress__icon ${i.value}`,name:u.value,color:"string"==typeof e.color?e.color:""},null,8,["custom-class","name","color"])):T("",!0):(_(),g(a,{key:0,class:"wd-progress__label"},{default:z((()=>[D(A(e.percentage)+"%",1)])),_:1}))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-fc07731c"]]),ge=S(i({name:"wd-circle",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...c,modelValue:r(0),size:r(100),color:{type:[String,Object],default:"#4d80f0"},layerColor:n("#EBEEF5"),fill:String,speed:r(50),text:String,strokeWidth:r(10),strokeLinecap:n("round"),clockwise:o(!0)},setup(a){const l=2*Math.PI,s=-Math.PI/2,o=a,{proxy:r}=d(),n=e(""),c=e(0),i=e(null),u=e(1),f=e(`wd-circle${Y()}`);let h=null;const w=v((()=>o.size)),T=v((()=>o.strokeWidth)),I=v((()=>{const e={width:X(o.size),height:X(o.size)};return`${m(e)}`}));function F(e,t,a,l,s){let r=T.value;const n=w.value/2;s||(r/=2);const c=n-r/2;e.strokeStyle=t,e.setStrokeStyle(t),e.setLineWidth(r),e.setLineCap(o.strokeLinecap),e.beginPath(),e.arc(n,n,c,a,l,!o.clockwise),e.stroke(),s&&(e.setLineWidth(r),e.setFillStyle(s),e.fill())}function $(e){new Promise((e=>{if(h)return e(h);h=K(f.value,r),e(h)})).then((t=>{t.clearRect(0,0,w.value,w.value),function(e){F(e,o.layerColor,0,l,o.fill)}(t);const a=(r=e,Math.min(Math.max(r,0),100));var r;0!==a?function(e,t){const a=l*(t/100),r=o.clockwise?s+a:3*Math.PI-(s+a);if(U(o.color)){const t=e.createLinearGradient(w.value,0,0,0);Object.keys(o.color).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map((e=>t.addColorStop(parseFloat(e)/100,o.color[e]))),n.value=t}else n.value=o.color;F(e,n.value,s,r)}(t,a):function(e){const t=T.value,a=w.value/2;if(U(o.color)){const t=e.createLinearGradient(w.value,0,0,0);Object.keys(o.color).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map((e=>t.addColorStop(parseFloat(e)/100,o.color[e]))),n.value=t}else n.value=o.color;e.beginPath(),e.arc(a,t/4,t/4,0,l),e.setFillStyle(n.value),e.fill()}(t),t.draw()}))}function L(){i.value&&clearTimeout(i.value)}return p((()=>o.modelValue),(()=>{!function(){if(o.speed<=0||o.speed>1e3)return void $(o.modelValue);L(),c.value=c.value||0;const e=()=>{i.value=setTimeout((()=>{c.value!==o.modelValue?(Math.abs(c.value-o.modelValue)<1?c.value=o.modelValue:c.value<o.modelValue?c.value+=1:c.value-=1,$(c.value),e()):L()}),1e3/o.speed)};e()}()}),{immediate:!0}),p((()=>o.size),(()=>{let e=setTimeout((()=>{$(c.value),clearTimeout(e)}),50)}),{immediate:!1}),p((()=>o.color),(()=>{$(c.value)}),{immediate:!1,deep:!0}),Z((()=>{u.value=j().pixelRatio})),x((()=>{c.value=o.modelValue,$(c.value)})),t((()=>{L()})),(e,t)=>{const a=q,l=b,s=G;return _(),g(l,{class:k(`wd-circle ${e.customClass}`),style:y(e.customStyle)},{default:z((()=>[M(a,{width:w.value,height:w.value,style:y(I.value),id:f.value,"canvas-id":f.value},null,8,["width","height","style","id","canvas-id"]),e.text?(_(),g(s,{key:1,class:"wd-circle__text"},{default:z((()=>[D(A(e.text),1)])),_:1})):(_(),g(l,{key:0,class:"wd-circle__text"},{default:z((()=>[C(e.$slots,"default",{},void 0,!0)])),_:3}))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-b82bbb29"]]),_e=S(i({__name:"CircularProgress",props:{current:{},total:{},size:{default:160},strokeWidth:{default:10}},setup(e){const{isDark:t}=J(),a=e,l=v((()=>a.total-a.current)),s=v((()=>Math.min(a.current/a.total*100,100))),o=v((()=>l.value<=0)),r=v((()=>t.value?"#374151":"#e5e7eb"));return(e,t)=>{const a=G,n=b,c=ge;return _(),g(n,{class:"circular-container"},{default:z((()=>[M(c,{modelValue:P(s),"onUpdate:modelValue":t[0]||(t[0]=e=>N(s)?s.value=e:null),size:e.size,"stroke-width":e.strokeWidth,color:P(o)?"#ef4444":"#10b981","layer-color":P(r)},{default:z((()=>[M(n,{class:"center-content"},{default:z((()=>[M(a,{class:k(["value",{"text-red":P(o)}])},{default:z((()=>[D(A(Math.abs(P(l))),1)])),_:1},8,["class"]),M(a,{class:"label"},{default:z((()=>[D(A(P(o)?"超出":"剩余")+" kcal",1)])),_:1})])),_:1})])),_:1},8,["modelValue","size","stroke-width","color","layer-color"])])),_:1})}}}),[["__scopeId","data-v-7ef9944b"]]),be=S(i({__name:"index",setup(t){const a=e({calories:2e3,protein:150,fat:60,carbs:250}),l=e({"早餐":[{id:"1",name:"全麦面包",amount:2,unit:"片",calories:180,protein:8,fat:2,carbs:32},{id:"2",name:"煮鸡蛋",amount:1,unit:"个",calories:78,protein:6,fat:5,carbs:1}],"午餐":[{id:"4",name:"糙米饭",amount:150,unit:"g",calories:180,protein:4,fat:1,carbs:38},{id:"5",name:"鸡胸肉",amount:120,unit:"g",calories:165,protein:31,fat:4,carbs:0}],"晚餐":[],"加餐":[]}),s=e(350),o=v((()=>Object.values(l.value).flat())),r=v((()=>o.value.reduce(((e,t)=>({calories:e.calories+t.calories,protein:e.protein+t.protein,fat:e.fat+t.fat,carbs:e.carbs+t.carbs})),{calories:0,protein:0,fat:0,carbs:0})));function n(e){Object.keys(l.value).forEach((t=>{l.value[t]=l.value[t].filter((t=>t.id!==e))}))}function c(e){te({url:`/pages/add-meal/index?type=${e}`})}return(e,t)=>{const o=oe,i=G,u=b,d=_e,p=re,f=he,v=xe,m=fe,x=de,h=ee("layout-tabbar-uni"),w=ee("global-ku-root");return _(),g(w,null,{default:z((()=>[M(h,null,{default:z((()=>[M(u,{class:"page-container bg-[var(--page-bg)] min-h-screen pb-20 overflow-x-hidden"},{default:z((()=>[M(u,{class:"bg-[var(--card-bg)] px-4 pt-16 pb-8 shadow-sm"},{default:z((()=>[M(u,{class:"flex items-center justify-center gap-10 mb-6"},{default:z((()=>[M(u,{class:"text-center"},{default:z((()=>[M(u,{class:"flex items-center gap-1 text-[var(--text-sub)] mb-1 justify-center"},{default:z((()=>[M(o,{size:"14",color:"#6b7280"}),M(i,{class:"text-xs"},{default:z((()=>[D("摄入")])),_:1})])),_:1}),M(u,{class:"text-2xl font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(P(r).calories),1)])),_:1}),M(u,{class:"text-[10px] text-[var(--text-sub)]"},{default:z((()=>[D("kcal")])),_:1})])),_:1}),M(d,{current:P(r).calories,total:P(a).calories},null,8,["current","total"]),M(u,{class:"text-center"},{default:z((()=>[M(u,{class:"flex items-center gap-1 text-[var(--text-sub)] mb-1 justify-center"},{default:z((()=>[M(p,{size:"14",color:"#6b7280"}),M(i,{class:"text-xs"},{default:z((()=>[D("消耗")])),_:1})])),_:1}),M(u,{class:"text-2xl font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(P(s)),1)])),_:1}),M(u,{class:"text-[10px] text-[var(--text-sub)]"},{default:z((()=>[D("kcal")])),_:1})])),_:1})])),_:1}),M(u,{class:"text-center text-[10px] text-[var(--text-sub)]"},{default:z((()=>[D(" 目标: "+A(P(a).calories)+" kcal/天 ",1)])),_:1})])),_:1}),M(u,{class:"px-4 mt-4"},{default:z((()=>[M(u,{class:"text-xs font-bold text-[var(--text-sub)] mb-3 ml-1 uppercase tracking-wider"},{default:z((()=>[D("今日营养素")])),_:1}),M(u,{class:"grid grid-cols-3 gap-3"},{default:z((()=>[M(u,{class:"bg-[var(--card-bg)] rounded-xl p-3 shadow-sm"},{default:z((()=>[M(u,{class:"text-[10px] text-[var(--text-sub)] mb-1 uppercase"},{default:z((()=>[D("蛋白质")])),_:1}),M(u,{class:"mb-2"},{default:z((()=>[M(i,{class:"text-base font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(P(r).protein.toFixed(1)),1)])),_:1}),M(i,{class:"text-[10px] text-[var(--text-sub)] ml-1"},{default:z((()=>[D("/ "+A(P(a).protein)+"g",1)])),_:1})])),_:1}),M(f,{percentage:Math.min(P(r).protein/P(a).protein*100,100),color:"#3b82f6","show-pivot":!1,"stroke-width":"4px"},null,8,["percentage"])])),_:1}),M(u,{class:"bg-[var(--card-bg)] rounded-xl p-3 shadow-sm"},{default:z((()=>[M(u,{class:"text-[10px] text-[var(--text-sub)] mb-1 uppercase"},{default:z((()=>[D("脂肪")])),_:1}),M(u,{class:"mb-2"},{default:z((()=>[M(i,{class:"text-base font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(P(r).fat.toFixed(1)),1)])),_:1}),M(i,{class:"text-[10px] text-[var(--text-sub)] ml-1"},{default:z((()=>[D("/ "+A(P(a).fat)+"g",1)])),_:1})])),_:1}),M(f,{percentage:Math.min(P(r).fat/P(a).fat*100,100),color:"#f59e0b","show-pivot":!1,"stroke-width":"4px"},null,8,["percentage"])])),_:1}),M(u,{class:"bg-[var(--card-bg)] rounded-xl p-3 shadow-sm"},{default:z((()=>[M(u,{class:"text-[10px] text-[var(--text-sub)] mb-1 uppercase"},{default:z((()=>[D("碳水")])),_:1}),M(u,{class:"mb-2"},{default:z((()=>[M(i,{class:"text-base font-bold text-[var(--text-main)]"},{default:z((()=>[D(A(P(r).carbs.toFixed(1)),1)])),_:1}),M(i,{class:"text-[10px] text-[var(--text-sub)] ml-1"},{default:z((()=>[D("/ "+A(P(a).carbs)+"g",1)])),_:1})])),_:1}),M(f,{percentage:Math.min(P(r).carbs/P(a).carbs*100,100),color:"#8b5cf6","show-pivot":!1,"stroke-width":"4px"},null,8,["percentage"])])),_:1})])),_:1})])),_:1}),M(u,{class:"px-4 mt-4"},{default:z((()=>[M(v)])),_:1}),M(u,{class:"px-4 mt-4"},{default:z((()=>[M(u,{class:"text-xs font-bold text-[var(--text-sub)] mb-3 ml-1 uppercase tracking-wider"},{default:z((()=>[D("今日餐食")])),_:1}),M(m,{"meal-type":"早餐",foods:P(l).早餐,onDeleteFood:n},null,8,["foods"]),M(m,{"meal-type":"午餐",foods:P(l).午餐,onDeleteFood:n},null,8,["foods"]),M(m,{"meal-type":"晚餐",foods:P(l).晚餐,onDeleteFood:n},null,8,["foods"]),M(m,{"meal-type":"加餐",foods:P(l).加餐,onDeleteFood:n},null,8,["foods"])])),_:1}),M(x,{onSelect:c})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9d0ac356"]]);export{be as default};
