import{f as e,q as t,s as a,I as l,y as s,H as o,J as r,r as d,a2 as c,k as n,a0 as u,z as f,t as i,x as p,K as x,R as _,P as g,a3 as b,A as m,Q as y,M as h,L as w,a4 as v,a1 as k,a5 as C,G as z}from"./index-Dq5cXexY.js";import{_ as j}from"./IconPlus.vue_vue_type_script_setup_true_lang.CwcYqQ2y.js";import{_ as F}from"./IconX.vue_vue_type_script_setup_true_lang.CIkkXJXL.js";import{_ as I}from"./wd-navbar.Calwyos_.js";const P=e({__name:"IconSave",props:{size:{},color:{}},setup:e=>(e,d)=>(a(),t(l,{size:e.size,color:e.color},{default:s((()=>[(a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),r("polyline",{points:"17 21 17 13 7 13 7 21"}),r("polyline",{points:"7 3 7 8 15 8"})]))])),_:1},8,["size","color"]))}),q=z(e({__name:"index",setup(e){const l=d("早餐"),r=d([]);c((e=>{e.type&&(l.value=e.type)}));const z=n((()=>r.value.reduce(((e,t)=>({calories:e.calories+t.totalCalories,protein:e.protein+t.totalProtein,fat:e.fat+t.totalFat,carbs:e.carbs+t.totalCarbs})),{calories:0,protein:0,fat:0,carbs:0})));function q(){v()}function H(){k({url:"/pages/food-selector/index"})}function L(){r.value.length&&(C({title:"已保存",icon:"success"}),setTimeout((()=>v()),1500))}return(e,d)=>{const c=P,n=_,v=i,k=I,C=F,M=j,A=b,B=u("layout-default-uni"),G=u("global-ku-root");return a(),t(G,null,{default:s((()=>[f(B,null,{default:s((()=>[f(v,{class:"page-container bg-[var(--page-bg)] h-screen flex flex-col overflow-hidden"},{default:s((()=>[f(k,{title:"添加餐食",fixed:"",placeholder:"","left-arrow":"",onClickLeft:q},{right:s((()=>[f(v,{class:p(["save-btn",{disabled:!x(r).length}]),onClick:L},{default:s((()=>[f(c,{size:"14",color:"white"}),f(n,{class:"ml-1"},{default:s((()=>[g("保存")])),_:1})])),_:1},8,["class"])])),_:1}),f(A,{"scroll-y":"",class:"flex-1 px-4 py-4 space-y-4"},{default:s((()=>[f(v,{class:"pb-24 space-y-4"},{default:s((()=>[f(v,{class:"bg-emerald-50 border border-emerald-100 rounded-xl p-3 flex items-center gap-3"},{default:s((()=>[f(v,{class:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.6)]"}),f(n,{class:"text-sm font-bold text-gray-900"},{default:s((()=>[g("正在添加：")])),_:1}),f(n,{class:"text-sm font-bold text-emerald-600"},{default:s((()=>[g(y(x(l)),1)])),_:1})])),_:1}),x(r).length?(a(),t(v,{key:0,class:"bg-white rounded-xl p-4 shadow-sm"},{default:s((()=>[f(v,{class:"flex items-center justify-between mb-3 px-1"},{default:s((()=>[f(n,{class:"text-xs font-bold text-gray-400 uppercase"},{default:s((()=>[g("已选食物")])),_:1}),f(n,{class:"text-[10px] text-gray-300"},{default:s((()=>[g(y(x(r).length)+" 项",1)])),_:1})])),_:1}),f(v,{class:"space-y-3"},{default:s((()=>[(a(!0),o(h,null,w(x(r),((e,l)=>(a(),t(v,{key:l,class:"bg-gray-50 rounded-lg p-3 flex justify-between items-center"},{default:s((()=>[f(v,null,{default:s((()=>[f(v,{class:"flex items-center gap-2 mb-1"},{default:s((()=>[f(n,{class:"text-sm font-bold text-gray-900"},{default:s((()=>[g(y(e.name),1)])),_:2},1024),f(n,{class:"text-xs text-emerald-600 font-bold"},{default:s((()=>[g(y(e.quantity)+" "+y(e.selectedUnit),1)])),_:2},1024)])),_:2},1024),f(n,{class:"text-[10px] text-gray-400"},{default:s((()=>[g(y(e.totalCalories)+"kcal | P:"+y(e.totalProtein)+"g F:"+y(e.totalFat)+"g C:"+y(e.totalCarbs)+"g",1)])),_:2},1024)])),_:2},1024),f(v,{class:"p-1",onClick:e=>function(e){r.value.splice(e,1)}(l)},{default:s((()=>[f(C,{size:"14",color:"#ef4444"})])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})):m("",!0),x(r).length?(a(),t(v,{key:1,class:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-4 shadow-lg text-white"},{default:s((()=>[f(n,{class:"text-[10px] font-bold opacity-40 uppercase mb-3 block"},{default:s((()=>[g("今日营养汇总")])),_:1}),f(v,{class:"grid grid-cols-2 gap-3"},{default:s((()=>[f(v,{class:"bg-white/5 rounded-lg p-3"},{default:s((()=>[f(v,{class:"text-[10px] opacity-40 mb-1"},{default:s((()=>[g("热量")])),_:1}),f(v,{class:"text-xl font-bold text-emerald-400"},{default:s((()=>[g(y(x(z).calories.toFixed(0))+" ",1),f(n,{class:"text-[10px] font-normal opacity-40 ml-1"},{default:s((()=>[g("kcal")])),_:1})])),_:1})])),_:1}),f(v,{class:"bg-white/5 rounded-lg p-3"},{default:s((()=>[f(v,{class:"text-[10px] opacity-40 mb-1"},{default:s((()=>[g("蛋白质")])),_:1}),f(v,{class:"text-xl font-bold text-blue-400"},{default:s((()=>[g(y(x(z).protein.toFixed(1))+" ",1),f(n,{class:"text-[10px] font-normal opacity-40 ml-1"},{default:s((()=>[g("g")])),_:1})])),_:1})])),_:1}),f(v,{class:"bg-white/5 rounded-lg p-3"},{default:s((()=>[f(v,{class:"text-[10px] opacity-40 mb-1"},{default:s((()=>[g("脂肪")])),_:1}),f(v,{class:"text-xl font-bold text-orange-400"},{default:s((()=>[g(y(x(z).fat.toFixed(1))+" ",1),f(n,{class:"text-[10px] font-normal opacity-40 ml-1"},{default:s((()=>[g("g")])),_:1})])),_:1})])),_:1}),f(v,{class:"bg-white/5 rounded-lg p-3"},{default:s((()=>[f(v,{class:"text-[10px] opacity-40 mb-1"},{default:s((()=>[g("碳水")])),_:1}),f(v,{class:"text-xl font-bold text-purple-400"},{default:s((()=>[g(y(x(z).carbs.toFixed(1))+" ",1),f(n,{class:"text-[10px] font-normal opacity-40 ml-1"},{default:s((()=>[g("g")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0),f(v,{class:"bg-white border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center gap-2",onClick:H},{default:s((()=>[f(v,{class:"w-10 h-10 rounded-full bg-emerald-50 flex items-center justify-center"},{default:s((()=>[f(M,{size:"20",color:"#10b981"})])),_:1}),f(n,{class:"text-sm font-bold text-emerald-600"},{default:s((()=>[g("添加食物")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-43dd6405"]]);export{q as default};
